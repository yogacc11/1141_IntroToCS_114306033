<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 3 Number Guessing Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 50px;
        }
        #image img {
            max-width: 300px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1 id="title">StudentID_Number Guessing Game</h1>

    <div id="image"></div>

    <script>
        var answer = Math.floor(Math.random() * 100) + 1;
        var chances = 7;
        var min = 1;
        var max = 100;
        var isWon = false;

        setTimeout(function() {
            while (chances > 0) {
                var input = window.prompt("請輸入 " + min + " 到 " + max + " 之間的整數。\n你還有 " + chances + " 次機會。");
                if (input === null) {
                    break;
                }
                var strInput = input.trim();

                if (strInput === "" || isNaN(strInput)) {
                    alert("請輸入有效的數字！");
                    continue;
                }
                var guess = Number(strInput);
                if (guess < min || guess > max) {
                    alert("請輸入有效範圍內的數字(不能超出 " + min + " 到 " + max + ")!");
                    continue;
                }
                if (guess === answer) {
                    alert("恭喜你答對了! 正確答案是 " + answer);
                    var imgDiv = document.getElementById("image");
                    imgDiv.innerHTML = '<img src="correct.jpg" alt="correct">';
                    
                    isWon = true;
                    break;
                } else {
                    chances--;
                    if (guess > answer) {
                        max = guess - 1;
                    } else {
                        min = guess + 1;
                    }
                }
            }

            if (!isWon && chances === 0) {
                alert("遊戲結束！正確答案是 " + answer);
                var imgDiv = document.getElementById("image");
                imgDiv.innerHTML = '<img src="wrong.jpg" alt="wrong">';
            }

        }, 100); 
    </script>

</body>
</html>